# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–∞–º–ø–∞–Ω–∏—è–º –∏ —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–∞–º ‚è∞üåç

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –∫–∞–º–ø–∞–Ω–∏–π

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∫–∞–º–ø–∞–Ω–∏–π –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ date/time picker
- ‚úÖ –í—Ä–µ–º—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ UTC –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–∞–º–ø–∞–Ω–∏–∏: `scheduled` (–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞

### 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–≤–æ–Ω–∫–∞.

**–¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:**

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-------|----------|---------------|
| **–ë–µ–∑ —É—á–µ—Ç–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤** | –ó–≤–æ–Ω–∫–∏ –≤—Å–µ–º –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è | –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –≤ –æ–¥–Ω–æ–º —Ä–µ–≥–∏–æ–Ω–µ |
| **–ò–∑ CSV (manual)** | –ó–∞–≥—Ä—É–∑–∫–∞ timezone –∏–∑ CSV | –¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ |
| **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (auto)** | –ü–æ –ø—Ä–µ—Ñ–∏–∫—Å—É –Ω–æ–º–µ—Ä–∞ | –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ |

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏–∑ **70 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤** —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:
- –ú–¢–°: 20 –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤
- –ë–∏–ª–∞–π–Ω: 15 –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (–≤–∫–ª—é—á–∞—è 951, 953)
- –ú–µ–≥–∞—Ñ–æ–Ω: 19 –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤
- –¢–µ–ª–µ2: 16 –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã:** `Europe/Moscow (UTC+3)`

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏

#### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ "–ù–æ–≤–∞—è –∫–∞–º–ø–∞–Ω–∏—è"**
2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏–ø, –∞—É–¥–∏–æ/SMS)
3. **–í–∫–ª—é—á–∏—Ç–µ "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫"**:
   - ‚òëÔ∏è –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è"
   - üìÖ –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –≤ date/time picker
   - ‚è∞ –í—Ä–µ–º—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ

#### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤

**–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏:**

**–í–∞—Ä–∏–∞–Ω—Ç A: –ë–µ–∑ —É—á–µ—Ç–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤**
```
–†–µ–∂–∏–º: –ë–µ–∑ —É—á–µ—Ç–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞: –ù–ï —Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É

CSV —Ñ–æ—Ä–º–∞—Ç:
phone_number
79991234567
79851234567
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ CSV (—Ç–æ—á–Ω—ã–π —Å–ø–æ—Å–æ–±)**
```
–†–µ–∂–∏–º: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ CSV
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞: –ü–û–°–¢–ê–í–ò–¢–¨ –≥–∞–ª–æ—á–∫—É

CSV —Ñ–æ—Ä–º–∞—Ç:
phone_number,timezone
79991234567,Europe/Moscow
79141234567,Asia/Yekaterinburg
79242234567,Asia/Krasnoyarsk
79142234567,Asia/Vladivostok
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±)**
```
–†–µ–∂–∏–º: –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É –Ω–æ–º–µ—Ä–∞
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞: –ü–û–°–¢–ê–í–ò–¢–¨ –≥–∞–ª–æ—á–∫—É

CSV —Ñ–æ—Ä–º–∞—Ç:
phone_number
79991234567
79851234567

‚ö†Ô∏è Timezone –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É (999, 985 –∏ —Ç.–¥.)
   –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: Europe/Moscow (UTC+3)
```

#### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV –∏ —Å–æ–∑–¥–∞–π—Ç–µ

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª** —Å –Ω–æ–º–µ—Ä–∞–º–∏ (¬±timezone)
2. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é"**
3. **–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞"**
4. **–ö–∞–º–ø–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è**

---

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### –ü—Ä–∏–º–µ—Ä 1: –£—Ç—Ä–µ–Ω–Ω–∏–π –æ–±–∑–≤–æ–Ω –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏

```
–ù–∞–∑–≤–∞–Ω–∏–µ: "–£—Ç—Ä–µ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
–¢–∏–ø: –ü–æ–∑–≤–æ–Ω–∏—Ç—å
–ê—É–¥–∏–æ: morning_reminder.wav

–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫: –î–ê
–î–∞—Ç–∞/–≤—Ä–µ–º—è: 2025-01-15 09:00 (–≤–∞—à–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)

–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞: –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨
–†–µ–∂–∏–º: –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

CSV:
phone_number
79991234567  ‚Üí –ú–æ—Å–∫–≤–∞ (UTC+3) ‚Üí –∑–≤–æ–Ω–æ–∫ –≤ 09:00 –ø–æ –ú–°–ö
79141234567  ‚Üí –ï—Å–ª–∏ –µ—Å—Ç—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ timezone
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–Ω–∏—Ç –∫–∞–∂–¥–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É –≤ 09:00 –µ–≥–æ –º–µ—Å—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

### –ü—Ä–∏–º–µ—Ä 2: –í–µ—á–µ—Ä–Ω—è—è –∞–∫—Ü–∏—è —Å —Ç–æ—á–Ω—ã–º–∏ timezone

```
–ù–∞–∑–≤–∞–Ω–∏–µ: "–í–µ—á–µ—Ä–Ω—è—è –∞–∫—Ü–∏—è"
–¢–∏–ø: –ü–æ–∑–≤–æ–Ω–∏—Ç—å + SMS

–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫: –î–ê
–î–∞—Ç–∞/–≤—Ä–µ–º—è: 2025-01-15 19:00 (–≤–∞—à–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)

–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞: –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨
–†–µ–∂–∏–º: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ CSV

CSV:
phone_number,timezone
79991234567,Europe/Moscow
79141234567,Asia/Yekaterinburg
79142234567,Asia/Vladivostok
79241234567,Asia/Krasnoyarsk
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–∂–¥—ã–π –ø–æ–ª—É—á–∏—Ç –∑–≤–æ–Ω–æ–∫ –≤ 19:00 —Å–≤–æ–µ–≥–æ –º–µ—Å—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–æ—á–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±–µ–∑ —É—á–µ—Ç–∞ timezone

```
–ù–∞–∑–≤–∞–Ω–∏–µ: "–°—Ä–æ—á–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
–¢–∏–ø: –°–ú–°

–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫: –î–ê
–î–∞—Ç–∞/–≤—Ä–µ–º—è: 2025-01-15 14:00 (–≤–∞—à–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)

–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞: –ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

CSV:
phone_number
79991234567
79851234567
79141234567
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –ø–æ–ª—É—á–∞—Ç SMS –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ 14:00 UTC+3 (–ú–æ—Å–∫–≤–∞).

---

## üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–∞–º–ø–∞–Ω–∏—è–º–∏:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö

–ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ö–∞–º–ø–∞–Ω–∏–∏" –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å:

- üîµ –°–∏–Ω–∏–π –±–µ–π–¥–∂ "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞"
- ‚ö†Ô∏è –ñ–µ–ª—Ç—ã–π alert —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–ø—É—Å–∫–∞
- üåç –ë–µ–π–¥–∂ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–∞—Ö (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)

### –û—Ç–º–µ–Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

1. **–ù–∞–π–¥–∏—Ç–µ –∫–∞–º–ø–∞–Ω–∏—é** —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞"
2. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É** "‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø—É—Å–∫"
3. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ** –¥–µ–π—Å—Ç–≤–∏–µ
4. **–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏—Ç—Å—è** –Ω–∞ "–ß–µ—Ä–Ω–æ–≤–∏–∫"
5. **Scheduled_start_time –æ—á–∏—Å—Ç–∏—Ç—Å—è**
6. **–ö–∞–º–ø–∞–Ω–∏—é –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å** –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∑–∞–Ω–æ–≤–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å

---

## üì° API –ü—Ä–∏–º–µ—Ä—ã:

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏

```bash
curl -X POST http://localhost:8000/api/campaigns \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–£—Ç—Ä–µ–Ω–Ω–∏–π –æ–±–∑–≤–æ–Ω",
    "campaign_type": "call",
    "audio_file": "morning.wav",
    "scheduled_start_time": "2025-01-15T06:00:00Z",
    "use_timezones": true,
    "timezone_mode": "auto"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å —Ä—É—á–Ω—ã–º timezone

```bash
curl -X POST http://localhost:8000/api/campaigns \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è",
    "campaign_type": "call_and_sms",
    "scheduled_start_time": "2025-01-16T09:00:00Z",
    "use_timezones": true,
    "timezone_mode": "manual"
  }'
```

### –û—Ç–º–µ–Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```bash
curl -X POST http://localhost:8000/api/campaigns/123/cancel_schedule
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "campaign_id": 123,
  "status": "cancelled"
}
```

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

### –¢–∞–±–ª–∏—Ü–∞ `campaigns` (–Ω–æ–≤—ã–µ –ø–æ–ª—è)

```sql
scheduled_start_time TIMESTAMP,              -- –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ (UTC)
use_timezones BOOLEAN DEFAULT FALSE,         -- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ timezone
timezone_mode VARCHAR(20) DEFAULT 'none',    -- none, manual, auto
cancelled_at TIMESTAMP                       -- –í—Ä–µ–º—è –æ—Ç–º–µ–Ω—ã (–µ—Å–ª–∏ –±—ã–ª–∞)
```

### –¢–∞–±–ª–∏—Ü–∞ `campaign_numbers` (–Ω–æ–≤–æ–µ –ø–æ–ª–µ)

```sql
timezone VARCHAR(50)  -- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞ (Europe/Moscow –∏ —Ç.–¥.)
```

### –¢–∞–±–ª–∏—Ü–∞ `phone_prefix_info` (–Ω–æ–≤–∞—è)

```sql
CREATE TABLE phone_prefix_info (
    id SERIAL PRIMARY KEY,
    prefix VARCHAR(10) NOT NULL,      -- 910, 920 –∏ —Ç.–¥.
    operator VARCHAR(50) NOT NULL,    -- –ú–¢–°, –ë–∏–ª–∞–π–Ω, –ú–µ–≥–∞—Ñ–æ–Ω, –¢–µ–ª–µ2
    timezone VARCHAR(50),             -- Europe/Moscow, Asia/Vladivostok
    region VARCHAR(100),              -- –ú–æ—Å–∫–≤–∞ –∏ –¶–§–û
    utc_offset INTEGER,               -- 3, 10 –∏ —Ç.–¥.
    UNIQUE(prefix)
);
```

---

## ‚öôÔ∏è –ë—ç–∫–µ–Ω–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### `campaign_manager.py`

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**
```python
def detect_timezone_from_phone(phone_number: str, cursor):
    """–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É –Ω–æ–º–µ—Ä–∞"""
    if len(phone_number) >= 4:
        prefix = phone_number[1:4]  # 79991234567 -> 999

        cursor.execute("""
            SELECT timezone FROM phone_prefix_info
            WHERE prefix = %s LIMIT 1
        """, (prefix,))

        result = cursor.fetchone()
        if result:
            return result[0]

    return None
```

**–û–±–Ω–æ–≤–ª–µ–Ω endpoint `/api/campaigns`:**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `scheduled_start_time` (ISO 8601 –≤ UTC)
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `use_timezones` (boolean)
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `timezone_mode` (none/manual/auto)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç status='scheduled' –µ—Å–ª–∏ –µ—Å—Ç—å `scheduled_start_time`

**–û–±–Ω–æ–≤–ª–µ–Ω endpoint `/api/campaigns/{id}/numbers`:**
- –ß–∏—Ç–∞–µ—Ç timezone –∏–∑ CSV (—Ä–µ–∂–∏–º manual)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç timezone –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ä–µ–∂–∏–º auto)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç timezone –≤ —Ç–∞–±–ª–∏—Ü–µ `campaign_numbers`

**–ù–æ–≤—ã–π endpoint `/api/campaigns/{id}/cancel_schedule`:**
```python
@app.post("/api/campaigns/{campaign_id}/cancel_schedule")
async def cancel_scheduled_campaign(campaign_id: int):
    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç status == 'scheduled'
    # –ú–µ–Ω—è–µ—Ç status –Ω–∞ 'draft'
    # –û—á–∏—â–∞–µ—Ç scheduled_start_time
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç cancelled_at
```

---

## üé® –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### `index.html`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫":**
```html
<div class="card mb-3">
    <div class="card-header bg-warning text-dark">
        <i class="bi bi-clock-history"></i> –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫
    </div>
    <div class="card-body">
        <input type="checkbox" id="enableSchedule">
        <input type="datetime-local" id="scheduledStartTime">
    </div>
</div>
```

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤":**
```html
<div class="card mb-3">
    <div class="card-header bg-primary text-white">
        <i class="bi bi-globe"></i> –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
    </div>
    <div class="card-body">
        <select id="timezoneMode">
            <option value="none">–ë–µ–∑ —É—á–µ—Ç–∞</option>
            <option value="manual">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ CSV</option>
            <option value="auto">–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</option>
        </select>
        <input type="checkbox" id="useTimezones">
    </div>
</div>
```

### `app.js`

**–ù–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π:**
```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å datetime picker
enableSchedule.addEventListener('change', () => {
    scheduleTimeSection.style.display = enableSchedule.checked ? 'block' : 'none';
});

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ timezone mode
timezoneMode.addEventListener('change', () => {
    timezoneDescText.textContent = timezoneDescriptions[mode];
    csvFormatHint.textContent = csvFormatHints[mode];
});
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã:**
```javascript
const scheduledStartTimeUTC = enableSchedule && scheduledStartTime
    ? new Date(scheduledStartTime).toISOString()
    : null;

body: JSON.stringify({
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    scheduled_start_time: scheduledStartTimeUTC,
    use_timezones: useTimezones,
    timezone_mode: timezoneMode
})
```

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–º–µ–Ω—ã:**
```javascript
async function cancelScheduledCampaign(campaignId) {
    if (!confirm('–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫?')) return;

    const response = await fetch(`${API_BASE}/campaigns/${campaignId}/cancel_schedule`, {
        method: 'POST'
    });

    if (response.ok) {
        showNotification('–ó–∞–ø—É—Å–∫ –æ—Ç–º–µ–Ω—ë–Ω', 'info');
        loadCampaigns();
    }
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫:**
- –î–æ–±–∞–≤–ª–µ–Ω alert —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–ø—É—Å–∫–∞ –¥–ª—è scheduled –∫–∞–º–ø–∞–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω –±–µ–π–¥–∂ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ timezone mode
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø—É—Å–∫" –¥–ª—è scheduled –∫–∞–º–ø–∞–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ getStatusColor() –∏ getStatusText()

---

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

### –û —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–∞—Ö

‚ö†Ô∏è **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ timezone –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É - –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–µ!**

–ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –≤ –†–æ—Å—Å–∏–∏ –≤—ã–¥–µ–ª—è—é—Ç—Å—è –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∞ –Ω–µ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ.
–ß–µ–ª–æ–≤–µ–∫ —Å –Ω–æ–º–µ—Ä–æ–º +7 916 –º–æ–∂–µ—Ç –∂–∏—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ.

**–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥:**
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –†–æ—Å—Å–∏–∏
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: Europe/Moscow (UTC+3)
- –î–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º "manual" —Å CSV

### –û scheduled_start_time

- –í—Å–µ–≥–¥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ UTC –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è ‚Üí UTC –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç UTC, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏

### –û —Å—Ç–∞—Ç—É—Å–∞—Ö –∫–∞–º–ø–∞–Ω–∏–π

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏—è |
|--------|----------|----------|
| draft | –ß–µ—Ä–Ω–æ–≤–∏–∫ | –°—Ç–∞—Ä—Ç, –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –£–¥–∞–ª–∏—Ç—å |
| scheduled | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ | –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø—É—Å–∫, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| running | –ê–∫—Ç–∏–≤–Ω–∞ | –ü–∞—É–∑–∞, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| paused | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ | –°—Ç–∞—Ä—Ç, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| completed | –ó–∞–≤–µ—Ä—à–µ–Ω–∞ | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |

---

## üîÑ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è:

### –§–∞–∑–∞ 1 (—Ç–µ–∫—É—â–∞—è): ‚úÖ –ì–æ—Ç–æ–≤–æ
- ‚úÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫
- ‚úÖ –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ (3 —Ä–µ–∂–∏–º–∞)
- ‚úÖ –ë–∞–∑–∞ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (70 —à—Ç)
- ‚úÖ UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –û—Ç–º–µ–Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –§–∞–∑–∞ 2 (—Å–ª–µ–¥—É—é—â–∞—è):
- ‚è≥ Background scheduler –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ scheduled_start_time –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
- ‚è≥ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–æ–≤

### –§–∞–∑–∞ 3 (–±—É–¥—É—â–µ–µ):
- üîÆ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞)
- üîÆ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è timezone
- üîÆ –£–º–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å —É—á–µ—Ç–æ–º —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
- üîÆ –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∫–∞–º–ø–∞–Ω–∏–∏ (daily, weekly)

---

## üé¨ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π —Å —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (70 –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤)
2. ‚úÖ Backend API –≥–æ—Ç–æ–≤
3. ‚úÖ Frontend UI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
4. ‚è≥ **TODO:** –°–æ–∑–¥–∞—Ç—å background scheduler –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

**–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000 –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ!**
